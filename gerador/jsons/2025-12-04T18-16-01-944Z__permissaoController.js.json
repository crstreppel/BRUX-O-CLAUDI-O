{
  "caminho": "../backend/modules/permissoes/permissaoController.js",
  "arquivo": "permissaoController.js",
  "conteudo": "const Permissao = require('./permissaoModel');\n\nmodule.exports = {\n  async criar(req, res) {\n    try {\n      const { descricao, modulo, acao } = req.body;\n      const chave = `${modulo}.${acao}`;\n      const nova = await Permissao.create({ descricao, modulo, acao, chave });\n      return res.status(201).json(nova);\n    } catch (err) {\n      return res.status(500).json({ erro: err.message });\n    }\n  },\n\n  async listar(req, res) {\n    try {\n      const dados = await Permissao.findAll();\n      return res.json(dados);\n    } catch (err) {\n      return res.status(500).json({ erro: err.message });\n    }\n  },\n\n  async atualizar(req, res) {\n    try {\n      const { id } = req.params;\n      const { descricao, modulo, acao, ativo, statusId } = req.body;\n      const chave = `${modulo}.${acao}`;\n      await Permissao.update({ descricao, modulo, acao, chave, ativo, statusId }, { where: { id } });\n      return res.json({ mensagem: 'Atualizado com sucesso' });\n    } catch (err) {\n      return res.status(500).json({ erro: err.message });\n    }\n  },\n\n  async excluir(req, res) {\n    try {\n      const { id } = req.params;\n      await Permissao.destroy({ where: { id } });\n      return res.json({ mensagem: 'Exclu√≠do com sucesso' });\n    } catch (err) {\n      return res.status(500).json({ erro: err.message });\n    }\n  }\n};"
}