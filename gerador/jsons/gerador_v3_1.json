[
  {
    "caminho": "../gerador",
    "arquivo": "gerador_v3_1.js",
    "conteudo": "// PBQE-C Gerador V3.1 ‚Äì Modo do Brux√£o‚Ñ¢\n// AutoLoader Inteligente com execu√ß√£o autom√°tica, sele√ß√£o m√∫ltipla, intervalo e ENTER = ALL\n\nconst fs = require('fs');\nconst path = require('path');\nconst readline = require('readline');\n\nconst DOWNLOADS_DIR = \"C:/Users/Claudio/Downloads\";\nconst DEST_JSON_DIR = path.resolve(__dirname, 'jsons');\n\n// utilit√°rio para perguntar algo no terminal\nfunction ask(question) {\n  const rl = readline.createInterface({ input: process.stdin, output: process.stdout });\n  return new Promise(resolve => rl.question(question, ans => { rl.close(); resolve(ans); }));\n}\n\n(async () => {\n  console.log(\"============================================================\");\n  console.log(\"üßô PBQE-C Gerador V3.1 ‚Äì Modo do Brux√£o‚Ñ¢\");\n  console.log(\"============================================================\\n\");\n\n  if (!fs.existsSync(DOWNLOADS_DIR)) {\n    console.error(\"‚ùå Pasta Downloads n√£o encontrada:\", DOWNLOADS_DIR);\n    return;\n  }\n\n  const arquivos = fs.readdirSync(DOWNLOADS_DIR)\n    .filter(a => a.toLowerCase().endsWith('.json'));\n\n  if (arquivos.length === 0) {\n    console.log(\"‚ö† Nenhum JSON encontrado na pasta Downloads.\");\n    return;\n  }\n\n  console.log(\"üì¶ JSONs encontrados:\");\n  arquivos.forEach((a, i) => console.log(`${i+1}) ${a}`));\n  console.log(\"\");\n\n  let indices = [];\n\n  if (arquivos.length === 1) {\n    console.log(\"üìå Apenas 1 JSON encontrado. Processando automaticamente...\n\");\n    indices = [0];\n  } else {\n    let escolha = await ask(\"üëâ Quais arquivos deseja processar? (1 2 5 | 1-3 | all | ENTER = all): \");\n    escolha = escolha.trim();\n\n    if (escolha === \"\" || escolha.toLowerCase() === \"all\") {\n      indices = arquivos.map((_, i) => i);\n    } else if (escolha.includes(\"-\")) {\n      const [ini, fim] = escolha.split(\"-\").map(n => parseInt(n.trim()) - 1);\n      for (let i = ini; i <= fim; i++) indices.push(i);\n    } else {\n      indices = escolha.split(\" \").map(n => parseInt(n.trim()) - 1);\n    }\n  }\n\n  if (!fs.existsSync(DEST_JSON_DIR)) fs.mkdirSync(DEST_JSON_DIR);\n\n  for (const idx of indices) {\n    const file = arquivos[idx];\n    if (!file) continue;\n\n    console.log(`\\n------------------------------------------------------------`);\n    console.log(`‚öôÔ∏è Processando: ${file}`);\n\n    const fullPath = path.join(DOWNLOADS_DIR, file);\n    let json;\n\n    try {\n      json = JSON.parse(fs.readFileSync(fullPath, 'utf8'));\n    } catch (err) {\n      console.error(\"‚ùå JSON inv√°lido:\", err);\n      continue;\n    }\n\n    for (const item of json) {\n      const destinoFinal = path.resolve(__dirname, item.caminho, item.arquivo);\n      const dir = path.dirname(destinoFinal);\n\n      if (!fs.existsSync(dir)) fs.mkdirSync(dir, { recursive: true });\n\n      fs.writeFileSync(destinoFinal, item.conteudo, 'utf8');\n      console.log(`üìÑ Criado/Atualizado: ${destinoFinal}`);\n    }\n\n    const newPath = path.join(DEST_JSON_DIR, file);\n    fs.renameSync(fullPath, newPath);\n    console.log(`üì¶ Movido para hist√≥rico: ${newPath}`);\n  }\n\n  console.log(\"\\n============================================================\");\n  console.log(\"üèÅ Execu√ß√£o conclu√≠da ‚Äì PBQE-C Modo do Brux√£o‚Ñ¢\");\n  console.log(\"============================================================\");\n})();\n"
  }
]