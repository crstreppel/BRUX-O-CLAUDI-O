document.addEventListener('DOMContentLoaded', () => { // ðŸ”’ VerificaÃ§Ã£o de autenticaÃ§Ã£o const token = localStorage.getItem('token'); const usuario = localStorage.getItem('usuario') || sessionStorage.getItem('usuarioAtual'); if (!token || !usuario) { window.location.href = 'login.html'; return; } // ðŸ‘¤ Exibe usuÃ¡rio no painel const userEl = document.getElementById('dashboardUser'); if (userEl) { userEl.textContent = usuario; } // ðŸ“¡ Status do painel const statusEl = document.getElementById('dashboardStatus'); if (statusEl) { statusEl.textContent = 'Painel carregado com sucesso. SeguranÃ§a PBQE-C ativa.'; } // ðŸ”— NavegaÃ§Ã£o por data-href document.querySelectorAll('[data-href]').forEach(btn => { btn.addEventListener('click', () => { const destino = btn.getAttribute('data-href'); if (destino) { window.location.href = destino; } }); }); // ðŸšª Logout correto (limpeza total) const btnLogout = document.getElementById('btnLogout'); if (btnLogout) { btnLogout.addEventListener('click', () => { localStorage.removeItem('token'); localStorage.removeItem('usuario'); localStorage.removeItem('usuarioAtual'); sessionStorage.removeItem('usuarioAtual'); window.location.href = 'login.html'; }); } });